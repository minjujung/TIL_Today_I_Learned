# 20210715
너무나.. 오랜만인 나의 Today I Learned...😂

# 오늘 내가 한것 

## 📌 백엔드와 함께하는 첫 미니 프로젝트가 거의 마무리 된 것 같다👏👏
구현해본 기능을 나열해 보면..?
- [x] 로그인 / 회원 가입 기능
- [x] 예약페이지에서 달력, 시간 선택 => material UI 사용!
- [x] axios로 위 내용 server로 보내주기**POST**
- [x] 마이페이지 만들기 => 예약내역, 프로필 사진 변경 기능
- [x] 키워드로 검색되는 내용 보여주기 기능

: 정말 세상에서 로그인 / 회원가입 기능이 제일 어려운 것 같다. 이번엔 **`JWT: Json Web Token`** 을 사용한 로그인
방식이었는데.. 이론은 꽤 이해했다. 로그인을 할때 서버에서 사용자에 대한 토큰을 보내주면 그걸 client쪽에서 쿠키로 
저장하고(다른 방법도 있다!), 그 사용자가 우리 사이트 내에서 `예약하기` 나 `댓글쓰기` 같은 요청을 하면 토큰이 담긴 
쿠키를 요청 **`header`** 에 넣은 뒤에 서버에 같이 보내줘서 로그인한 사람만 할 수 있는 것들을 하게끔 해주는 것이다!

:그런데! 제일 어려운 부분이 **로그인 유지**❗❗ 아니 토큰을 담은 쿠키가 막 **`path`** 별로 생겨서 새로고침만 하면 
로그인이 취소되는 것이다! 그 유저에 맞는 유효한 토큰을 보내야 하는데.. 토큰이 한번에 두개씩 생기면서 그 과정이 이루어
지지 않은 것 같다. 그래서 `민영 튜터님이 path를 지정해주면된다는 조언을 해주셔서` 아래와 같이 했더니.. 해결된것 
같다..?

```jsx
const setCookie = (name, value, exp = 1, path = "/") => {
  let date = new Date();
  date.setTime(date.getTime() + exp * 24 * 60 * 60 * 1000);
  document.cookie = `${name} = ${value}; expires  =${date.toUTCString()}; path = ${path}`;
};
```
**`path도 쿠키를 만들때 설정해주는 것이다!`** 그래서 일단은 잘 되는데.. 왜...이렇게 불안할까. 내일 일어나면 또 
path별로 생길까봐 너무 걱정이 된다😭 제발..

: 나머지 기능들도 다 나름 힘들었지만 그래도 기능을 하나 하나 구현할때마다 정말 뿌듯했다. 남이 보긴 별거 아니라고
할 수 있지만.. 그래도 전 뿌듯해요🤗🤗 미니 팀프로젝트에서 다른 내용과 기능은 **WIL** 에서 좀 더 열심히 정리해볼
예정이다!

# 내일 내가 할것
- 달리기 🏃‍♀️🏃‍♂️
- 로그인 / 회원가입 부분 경고 메세지 추가해보고 배포!
- 팀프로젝트 마무리 잘하자😤
- 경고메세지나.. 예외처리도 제대로 하고싶다..😂
- 내일도 꼭 TIL 쓸테야!
